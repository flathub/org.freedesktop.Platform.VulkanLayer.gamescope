name: wlroots
buildsystem: meson
config-opts:
  - -Dxwayland=enabled
  - -Dexamples=false
  - -Drenderers=gles2
  - -Dbackends=drm,libinput,x11
sources:
  - type: archive
    url: https://gitlab.freedesktop.org/wlroots/wlroots/-/archive/0.16.2/wlroots-0.16.2.tar.gz
    sha256: f502959db8bc029e32f10a837b37257bb8c5ed269bceddf9492f0bb381bebf76
    x-checker-data:
      type: anitya
      project-id: 18357
      stable-only: true
      url-template: https://gitlab.freedesktop.org/wlroots/wlroots/-/archive/$version/wlroots-$version.tar.gz
cleanup:
  - /include
  - /lib/pkgconfig
modules:
  - name: hwdata
    config-opts:
      - --datarootdir=${FLATPAK_DEST}/lib/
    sources:
      - type: archive
        url: https://github.com/vcrhonek/hwdata/archive/refs/tags/v0.373.tar.gz
        sha256: 0db28dc635d5059ad23d068d2e56ef5dc540f95bc813ea5a3c0f5d63b03d20d6
        x-checker-data:
          type: anitya
          project-id: 13577
          stable-only: true
          url-template: https://github.com/vcrhonek/hwdata/archive/refs/tags/v$version.tar.gz
    cleanup:
      - /lib/pkgconfig

